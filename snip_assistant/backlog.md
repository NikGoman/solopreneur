–û—Ç–ª–∏—á–Ω–æ. –ù–∏–∂–µ ‚Äî **–≥–ª—É–±–æ–∫–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –±–ª–æ–∫–∞ 1B: –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–¥–µ–ø–ª–æ–π –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ**.  
–í—Å–µ –∑–∞–¥–∞—á–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω—ã –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–µ –∫ –∏–º–ø–æ—Ä—Ç—É –≤ —Ç–∞—Å–∫-—Ç—Ä–µ–∫–µ—Ä: **–∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç**, —Å —É—á—ë—Ç–æ–º —Ç–≤–æ–µ–≥–æ —Å—Ç–µ–∫–∞, –±—é–¥–∂–µ—Ç–∞ ‚â§ $100/–º–µ—Å –∏ —Ñ–æ–∫—É—Å–∞ –Ω–∞ B2B –≤ –†–§/–°–ù–ì.

–í—ã–±–æ—Ä —Å–¥–µ–ª–∞–Ω –≤ –ø–æ–ª—å–∑—É **—Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (Selectel –∏–ª–∏ VK Cloud)** –≤–º–µ—Å—Ç–æ Fly.io ‚Äî —ç—Ç–æ –¥–µ—à–µ–≤–ª–µ, –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏ –∏ —Å–Ω–∏–∂–∞–µ—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≥–æ—Å–∑–∞–∫–∞–∑—á–∏–∫–∞–º–∏.

---

## ‚òÅÔ∏è **–ë–ª–æ–∫ 1B: –ü—Ä–æ–¥–∞–∫—à–µ–Ω-–¥–µ–ø–ª–æ–π –Ω–∞ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Ö–æ—Å—Ç–∏–Ω–≥–µ**  
*–¶–µ–ª—å: —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π, –∑–∞—â–∏—â—ë–Ω–Ω—ã–π, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π MVP –¥–ª—è –ø–µ—Ä–≤—ã—Ö –ø–ª–∞—Ç—è—â–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤*

---

### **1B.1. –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: Selectel –∏–ª–∏ VK Cloud**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Ç–∞—Ä–∏—Ñ:
  - **Selectel**: ¬´Cloud VM¬ª ‚Üí 1 vCPU, 2 –ì–ë RAM, 20 –ì–ë SSD, DDoS-Guard Basic ‚Üí **‚ÇΩ450/–º–µ—Å (~$5)**
  - **VK Cloud**: ¬´Compute¬ª ‚Üí –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚Üí **–æ—Ç ‚ÇΩ400/–º–µ—Å**
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –≤—ã–±–æ—Ä–∞**: –Ω–∞–ª–∏—á–∏–µ DDoS-–∑–∞—â–∏—Ç—ã ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –°–ë–ü, –ø—Ä–æ—Å—Ç–æ—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –í–ú —Å–æ–∑–¥–∞–Ω–∞, –ø—É–±–ª–∏—á–Ω—ã–π IPv4 –Ω–∞–∑–Ω–∞—á–µ–Ω, SSH-–¥–æ—Å—Ç—É–ø —Ä–∞–±–æ—Ç–∞–µ—Ç.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.2. –ó–∞–∫–∞–∑–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É (1 vCPU, 2 –ì–ë RAM, 20 –ì–ë SSD)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –í–ú –Ω–∞ Ubuntu 22.04 LTS —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–∞–∫–µ—Ç–æ–≤.
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - –û—Ç–∫–ª—é—á–∏—Ç—å root-–ª–æ–≥–∏–Ω
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ SSH-–∫–ª—é—á–∏
  - –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É (`apt update && upgrade`)
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: `ssh user@<IP>` —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–∞—Ä–æ–ª—è, `uname -a` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Linux.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (firewall, SSH, fail2ban)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∞—Ç–∞–∫–∏.
- **–î–µ–π—Å—Ç–≤–∏—è**:
  - `ufw allow OpenSSH`
  - `ufw allow 80/tcp`, `ufw allow 443/tcp`
  - `ufw enable`
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `fail2ban` –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞ SSH
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –≤—Å–µ –ø–æ—Ä—Ç—ã, –∫—Ä–æ–º–µ 22/80/443, –∑–∞–∫—Ä—ã—Ç—ã; –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –ø–æ –ø–∞—Ä–æ–ª—é –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–æ—Ç –∂–µ —Å—Ç–µ–∫, —á—Ç–æ –∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å—Ç–µ–Ω–¥–µ (1A).
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –≥–∞–π–¥ Docker –¥–ª—è Ubuntu.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: `docker compose version` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä—Å–∏—é ‚â•2.20.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (nginx) —Å HTTPS (Let‚Äôs Encrypt)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ FastAPI –∏ Telegram webhook —á–µ—Ä–µ–∑ nginx —Å TLS.
- **–î–µ–π—Å—Ç–≤–∏—è**:
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `nginx`
  - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å server block –¥–ª—è `yourdomain.ru` (–∏–ª–∏ IP)
  - –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —á–µ—Ä–µ–∑ `certbot --nginx`
  - –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å HTTP ‚Üí HTTPS
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: `https://<IP>/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200, –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç üîí.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

> üí° *–ï—Å–ª–∏ –¥–æ–º–µ–Ω–∞ –Ω–µ—Ç ‚Äî –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP + self-signed cert –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –Ω–æ –¥–ª—è Telegram webhook —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–π TLS.*

---

### **1B.6. –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç-–ª–∏–º–∏—Ç –≤ nginx (10 req/min per IP)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∞—Å—Å–æ–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π IP-–ª–∏–º–∏—Ç.
- **–ö–æ–Ω—Ñ–∏–≥**:
  ```nginx
  limit_req_zone $binary_remote_addr zone=global:10m rate=10r/m;
  server {
      location / {
          limit_req zone=global burst=5 nodelay;
          proxy_pass http://localhost:8000;
      }
  }
  ```
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –ø—Ä–∏ 11 –∑–∞–ø—Ä–æ—Å–∞—Ö/–º–∏–Ω —Å –æ–¥–Ω–æ–≥–æ IP ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 429.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: Medium

---

### **1B.7. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ç–µ–Ω–¥–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `Dockerfile`, `docker-compose.yml`, `.env.prod` –∏ –æ–±—Ä–∞–∑—ã.
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ `Phi-3-mini-GGUF`, Chroma, LlamaIndex
  - –ü–æ–¥–∫–ª—é—á–∏—Ç—å volume –¥–ª—è `./data/chroma` –∏ `./logs`
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: `docker compose up -d` ‚Üí –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç, RAG –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.8. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Chroma –∏ –ª–æ–≥–æ–≤**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**:
  - –õ–æ–∫–∞–ª—å–Ω–æ: `rsync` –Ω–∞ —Ç–≤–æ–π –ü–ö –ø–æ cron
  - –í –æ–±–ª–∞–∫–æ: Selectel Object Storage (S3-compatible, ~‚ÇΩ50/–º–µ—Å –∑–∞ 10 –ì–ë)
- **–°–∫—Ä–∏–ø—Ç**: `tar -czf backup_$(date +%F).tar.gz ./data/chroma ./logs`
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –±—ç–∫–∞–ø —Å–æ–∑–¥–∞—ë—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∑–∞ <5 –º–∏–Ω.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: Medium

---

### **1B.9. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Telegram webhook (—á–µ—Ä–µ–∑ HTTPS)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞ —Å polling –Ω–∞ webhook –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞.
- **–ö–æ–º–∞–Ω–¥–∞**:  
  ```bash
  curl "https://api.telegram.org/bot<TOKEN>/setWebhook?url=https://<IP>/webhook"
  ```
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**: endpoint `/webhook` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–±–ª–∏—á–Ω—ã–º –∏ –∏–º–µ—Ç—å –≤–∞–ª–∏–¥–Ω—ã–π TLS.
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: `getWebhookInfo` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"url": "https://..."`, `"last_error_date": 0`.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: High

---

### **1B.10. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (health-check, –ª–æ–≥–∏ –≤ Telegram-–∞–¥–º–∏–Ω-—á–∞—Ç)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–ø–æ–≤–µ—â–∞—Ç—å –æ –ø–∞–¥–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è**:
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç `/health` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"status": "ok"}`
  - Cron-—Å–∫—Ä–∏–ø—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω: `curl -f http://localhost/health || send_alert_to_telegram`
  - –õ–æ–≥ –æ—à–∏–±–æ–∫ ‚Üí –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π Telegram-—á–∞—Ç —á–µ—Ä–µ–∑ `requests.post`
- **–ö—Ä–∏—Ç–µ—Ä–∏–π –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ç—ã –ø–æ–ª—É—á–∞–µ—à—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram < —á–µ–º –∑–∞ 5 –º–∏–Ω.
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: Medium

---

## üìå –ò—Ç–æ–≥ –±–ª–æ–∫–∞ 1B
–ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É —Ç–µ–±—è –±—É–¥–µ—Ç:
- **–ü—É–±–ª–∏—á–Ω—ã–π MVP**, –¥–æ—Å—Ç—É–ø–Ω—ã–π 24/7 –ø–æ HTTPS.
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –±–∞–∑–æ–≤—ã—Ö –∞—Ç–∞–∫** (DDoS –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ç–∏, —Ä–µ–π—Ç-–ª–∏–º–∏—Ç—ã, firewall).
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** (–±—ç–∫–∞–ø—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã).
- **–°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**: **‚â§ $6/–º–µ—Å** (–≤–º–µ—Å—Ç–æ $15 –Ω–∞ Fly.io), —á—Ç–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –±—é–¥–∂–µ—Ç –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.

---

–ì–æ—Ç–æ–≤ –ø–µ—Ä–µ–π—Ç–∏ –∫ **—ç—Ç–∞–ø—É 2: –°–±–æ—Ä –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã** –∏–ª–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π —à–∞–≥ –≤—ã—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å certbot –Ω–∞ Selectel¬ª).  
–£–∫–∞–∂–∏ —Å–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ.
